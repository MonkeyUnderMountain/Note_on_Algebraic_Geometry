\section{Morphisms by line bundles and ampleness}



\subsection{Globally generated line bundles}


    \begin{definition}\label{def:gbgs_quasi-coherent_sheaves}
        Let \(X\) be a scheme over a ring \(A\) and \(\calF\) a quasi-coherent sheaf on \(X\).
        We say that \(\calF\) is \emph{globally generated} or \emph{generated by global sections} if the natural map \(\Gamma(X,\calF)\otimes_A \calO_X \to \calF\) is surjective.
    \end{definition}

    \begin{proposition}\label{prop:gbgs_is_stable_under_pullback_tensor_product}
        Let \(X\) be a scheme over a ring \(A\) and \(\calF\), \(\calG\) quasi-coherent sheaves on \(X\).
        Then we have the following:
        \begin{enumerate}
            \item if \(\calF\) is globally generated, then for any morphism \(f:Y\to X\) over \(A\), the pullback \(f^*\calF\) is globally generated on \(Y\);
            \item if both \(\calF\) and \(\calG\) are globally generated, then so is \(\calF \otimes_{\calO_X} \calG\).
        \end{enumerate}
        \Yang{To be revised.}
    \end{proposition}
    
    % \begin{example}\label{eg:multiple_of_globally_generated_line_bundle_is_globally_generated}
    %     Let 
    % \end{example}

    % \begin{example}\label{eg:product_of_pullback_along_natural_projection_is_globally_generated}
        
    % \end{example}

    The story begins with the following theorem, which uses global sections of a globally generated line bundle to construct a morphism to projective space.

    \begin{theorem}\label{thm:morphism_to_projective_space}
        Let \(A\) be a ring and \(X\) an \(A\)-scheme.
        Let \(\calL\) be a line bundle on \(X\) and \(s_0,\ldots,s_n\in\Gamma(X,\calL)\).
        Suppose that \(\{s_i\}\) generate \(\calL\), i.e., \(\bigoplus_i \calO_X\cdot s_i \to \calL\) is surjective.
        Then there is a unique morphism \(f:X\to \bbP^n_A\) such that \(\calL\cong f^*\calO(1)\) and \(s_i=f^*x_i\), where \(x_i\) are the standard coordinates on \(\bbP^n_A\). 
        \Yang{We need a more ``functorial'' expression.}  
    \end{theorem}
    \begin{proof}
        Let \(U_i\coloneqq \{\xi \in X: s_i(\xi) \not\in \frakm_\xi \calL_\xi\}\) be the open subset where \(s_i\) does not vanish.
        Since \(\{s_i\}\) generate \(\calL\), we have \(X=\bigcup_i U_i\).
        Let \(V_i\) be given by \(x_i \neq 0\) in \(\bbP^n_A\).
        On \(U_i\), let \(f_i:U_i\to V_i \subseteq \bbP^n_A\) be the morphism induced by the ring homomorphism
        \[ A\left[\frac{x_0}{x_i},\ldots,\frac{x_n}{x_i}\right] \to \Gamma(U_i,\calO_X), \quad \frac{x_j}{x_i} \mapsto \frac{s_j}{s_i}. \]
        Easy to check that on \(U_i\cap U_j\), \(f_i\) and \(f_j\) agree.
        Thus we can glue them to get a morphism \(f:X\to \bbP^n_A\).
        By construction, we have \(s_i=f^*x_i\) and \(\calL\cong f^*\calO(1)\).
        If there is another morphism \(g:X\to \bbP^n_A\) satisfying the same properties, then on each \(U_i\), \(g\) must agree with \(f_i\) by the same construction.
        Thus \(g=f\).
    \end{proof}

    \begin{example}\label{eg:d-uple_embedding_or_Veronese_embedding}
        Let \(X=\bbP^n_A\) with \(A\) a ring and \(\calL=\calO_{\bbP^n}(d)\) for some \(d>0\).
        Then \(\Gamma(X,\calL)\) is generated by the global sections \(S_{i_0,\ldots,i_n}=T_0^{i_0}T_1^{i_1}\cdots T_n^{i_n}\) for all \((i_0,\ldots,i_n)\) with \(i_0+\cdots+i_n=d\), where \(T_i\) are the standard coordinates on \(\bbP^n\).
        The they induce a morphism \(f:X\to \bbP^N_A\) where \(N=\binom{n+d}{d}-1\).
        If \(A=\kk\) is a field, on \(\kk\)-point level, it is given by
        \[
            [x_0:\cdots:x_n] \mapsto [\ldots:x_0^{i_0}x_1^{i_1}\cdots x_n^{i_n}:\ldots],
        \]
        where the coordinates on the right-hand side are indexed by all \((i_0,\ldots,i_n)\) with \(i_0+\cdots+i_n=d\).
        This is called the \emph{\(d\)-uple embedding} or \emph{Veronese embedding} of \(\bbP^n\) into \(\bbP^N\).
    \end{example}

    \begin{example}\label{eg:Segre_embedding}
        Let \(X=\bbP^m_A \times_A \bbP^n_A\) with \(A\) a ring and \(\calL=\pi_1^*\calO_{\bbP^m}(1) \otimes \pi_2^*\calO_{\bbP^n}(1)\), where \(\pi_1\) and \(\pi_2\) are the projections.
        Let \(T_0,\ldots,T_m\) and \(S_0,\ldots,S_n\) be the standard coordinates on \(\bbP^m\) and \(\bbP^n\) respectively.
        Then \(\Gamma(X,\calL)\) is generated by the global sections \(T_i S_j = \pi_1^*T_i \otimes \pi_2^*S_j\) for \(0\leq i \leq m\) and \(0\leq j \leq n\).
        They induce a morphism \(f:X\to \bbP^{(m+1)(n+1)-1}_A\).
        If \(A=\kk\) is a field, on \(\kk\)-point level, it is given by
        \[ ([x_0:\cdots:x_m],[y_0:\cdots:y_n]) \mapsto [\ldots:x_i y_j:\ldots], \]
        where the coordinates on the right-hand side are indexed by all \((i,j)\) with \(0\leq i \leq m\) and \(0\leq j \leq n\).
        This is called the \emph{Segre embedding} of \(\bbP^m \times \bbP^n\) into \(\bbP^{(m+1)(n+1)-1}\).
    \end{example}

    
    \begin{proposition}\label{prop:different_choices_of_sections_give_different_morphisms_which_differ_by_a_linear_transformation}
        Let \(X\) be a \(\kk\)-scheme for some field \(\kk\) and \(\calL\) is a line bundle on \(X\).
        Suppose that \(\{s_0,\ldots,s_n\}\) and \(\{t_0,\ldots,t_m\}\) span the same subspace \(V\subseteq \Gamma(X,\calL)\) and both generate \(\calL\).
        Let \(f:X\to \bbP^n_\kk\) and \(g:X\to \bbP^m_\kk\) be the morphisms induced by \(\{s_i\}\) and \(\{t_j\}\) respectively.
        Then there exists a linear transformation \(\phi:\bbP^n_\kk \ratmap \bbP^m_\kk\) which is well defined near image of \(f\) and satisfies \(g=\phi \circ f\).
    \end{proposition}
    \begin{proof}
        \Yang{To be continued.}
    \end{proof}


\subsection{Ample line bundles}

    \begin{definition}\label{def:very_ample_line_bundle}
        Let \(X\) be a scheme over a field \(\kk\).
        A line bundle \(\calL\) on a \(X\) is called \emph{very ample} if there exists a closed embedding \(i:X\to \bbP^n_\kk\) such that \(\calL\cong i^*\calO(1)\).
        % \Yang{To be continued.}
    \end{definition}

    The following lemma due to Serre gives a good description of very ample line bundles.

    \begin{lemma}\label{lem:very_ample_and_gbgs}
        Let \(X\) be a scheme over a ring \(A\) and \(\calL\) a very ample line bundle on \(X\).
        Then for any coherent sheaf \(\calF\) on \(X\), there exists an integer \(N\) such that for all \(n \geq N\), \(\calF \otimes \calL^{\otimes n}\) is globally generated.
    \end{lemma}
    \begin{proof}
        \Yang{To be added.}
    \end{proof}

    By \cref{lem:very_ample_and_gbgs}, we have a more intrinsic definition.

    \begin{definition}\label{def:ample_line_bundle}
        A line bundle \(\calL\) on a scheme \(X\) is \emph{ample} if for every coherent sheaf \(\calF\) on \(X\), 
        there exists \(n_0>0\) such that for all \(n\ge n_0\), \(\calF\otimes \calL^{\otimes n}\) is globally generated.
        \Yang{To be continued.}
    \end{definition}
    
    \begin{theorem}\label{thm:ample_very_ample}
        Let \(X\) be a scheme of finite type over a noetherian ring \(A\) and \(\calL\) a line bundle on \(X\).
        Then the following are equivalent:
        \begin{enumerate}
            \item \(\calL\) is ample;
            \item for some \(n>0\), \(\calL^{\otimes n}\) is very ample;
            \item for all \(n \gg 0\), \(\calL^{\otimes n}\) is very ample.
        \end{enumerate}
        \Yang{To be continued.}
    \end{theorem}
    \begin{proof}
        \Yang{To be continued.}
    \end{proof}

    \begin{remark}\label{rmk:define_projective_variety_by_ample_divisors}
        By \cref{thm:ample_very_ample}, a scheme \(X\) which is proper over a field \(\kk\) is projective if and only if it admits an ample line bundle.
        More intrinsically, we will use the definition that a \emph{projective scheme} over a field \(\kk\) is a scheme proper over \(\kk\) which admits an ample line bundle.
        And the ample line bundle is often denoted by \(\calO_X(1)\).
        Once fix the ample line bundle \(\calO_X(1)\), for any coherent sheaf \(\calF\) on \(X\), we denote \(\calF(n) = \calF \otimes \calO_X(n)\) for any integer \(n\).
    \end{remark}

    \begin{proposition}\label{prop:tensor_with_ample_very_ample_and_bpf}
        Let \(X\) be a scheme of finite type over a noetherian ring \(A\) and \(\calL\), \(\calM\) line bundles on \(X\).
        Then we have the following:
        \begin{enumerate}
            \item if \(\calL\) is ample and \(\calM\) is globally generated, then \(\calL \otimes \calM\) is ample;
            \item if \(\calL\) is very ample and \(\calM\) is globally generated, then \(\calL \otimes \calM\) is very ample;
            \item if both \(\calL\) and \(\calM\) are ample, then so is \(\calL \otimes \calM\);
            \item if both \(\calL\) and \(\calM\) are globally generated, then so \(\calL \otimes \calM\);
            \item if \(\calL\) is ample and \(\calM\) is arbitrary, then for some \(n>0\), \(\calL^{\otimes n} \ten \calM\) is ample;
        \end{enumerate}
        \Yang{To be continued.}
    \end{proposition}
    \begin{proof}
        \Yang{To be continued.}
    \end{proof}

    \begin{theorem}[Serre Vanishing]\label{thm:Serre_vanishing}
        Let \(X\) be a projective scheme over a field \(k\) and \(\calL\) a very ample line bundle on \(X\). 
        Then for any coherent sheaf \(\calF\) on \(X\), there exists an integer \(N\) such that for all \(n \geq N\), we have
        \[ H^i(X, \calF \otimes \calL^{\otimes n}) = 0 \]
    \end{theorem}

    \begin{corollary}\label{cor:support_of_ample_divisor_is_connected}
        Let \(X\) be a projective variety over a field \(\kk\) and \(\calL\) an ample line bundle on \(X\).
        Then for any non-zero global section \(s \in \Gamma(X, \calL)\), the support of the effective Cartier divisor \(\divisor(s)\) is connected.
    \end{corollary}

    \begin{definition}\label{def:Hilbert_polynomial_w.r.t_ample_line_bundles}
        Let \((X,\calO_X(1))\) be a projective variety over a field \(\kk\) and \(\calF\) a coherent sheaf on \(X\).
        The \emph{Hilbert polynomial} of \(\calF\) with respect to \(\calO_X(1)\) is the polynomial 
        \[
            P_{\calF}(n) = \chi(X, \calF(n)) = \sum_{i=0}^{\infty} (-1)^i h^i(X, \calF(n)).
        \]
        Let \(Z \subseteq X\) be a closed subscheme with structure sheaf \(\calO_Z\).
        The \emph{Hilbert polynomial} of \(Z\) with respect to \(\calO_X(1)\) is defined as \(P_Z(n) = P_{\calO_Z}(n)\).
        \Yang{To be revised.}
    \end{definition}

    Note that the Euler characteristic \(\chi(X, \calF(n))\) is additive on short exact sequences of coherent sheaves.
    Fix an hypersurface \(H \subseteq X\) defined by a global section of \(\calO_X(1)\).
    Then we have \(\calO_H \cong \calO_X / \calO_X(-1)\).
    Thus by the exact sequence
    \[ 0 \to \calF(n-1) \to \calF(n) \to \calF(n)|_H \to 0, \]
    we have
    \[ P_{\calF}(n) - P_{\calF}(n-1) = P_{\calF|_H}(n). \]
    Inductively, \Yang{...}

    By \cref{thm:Serre_vanishing}, we have 
    \[ P_{\calF}(n) = h^0(X, \calF \otimes \calO_X(n)), \quad \text{for } n \gg 0. \]

    \begin{example}\label{eg:Hilbert_polynomial_of_hypersurfaces}
        Let \(Z \subseteq \bbP^r_\kk\) be a hypersurface of degree \(d\).
        Note that \(h^0(\bbP^r_\kk, \calO_{\bbP^r}(n)) = C^{n+r}_{r}\).
        Then the Hilbert polynomial of \(Z\) with respect to \(\calO_{\bbP^r}(1)\) is
        \[ P_Z(n) = P_{\calO}(n) - P_{\calO(-d)}(n) = \binom{n+r}{r} - \binom{n+r-d}{r} = \frac{d}{(r-1)!} n^{r-1} + \text{lower degree terms}. \]
        \Yang{To be checked.}
    \end{example}



    % \begin{definition}\label{def:semiample_line_bundle}
    %     A line bundle \(\calL\) on a scheme \(X\) is \emph{semiample} if for some \(n>0\), \(\calL^{\otimes n}\) is base-point free.
    %     \Yang{To be continued.}
    % \end{definition}



\subsection{Linear systems}


    In this subsection, when work over a field \(\kk\), we give a more geometric interpretation of previous subsections using the language of linear systems.

    \begin{definition}\label{def:geometric_complete_linear_system}
        Let \(X\) be a normal proper variety over a field \(\kk\), \(D\) a (Cartier) divisor on \(X\) and \(\calL=\calO_X(D)\) the associated line bundle.
        The \emph{complete linear system} associated to \(D\) is the set 
        \[ |D| = \{D'\in \CaDiv(X) : D'\sim D, D' \geq 0\}. \]
    \end{definition}

    There is a natural bijection between the complete linear system \(|D|\) and the projective space \(\bbP(\Gamma(X,\calL))\).
    Here the elements in \(\bbP(\Gamma(X,\calL))\) are one-dimensional subspaces of \(\Gamma(X,\calL)\).
    Consider the vector subspace \(V\subseteq \Gamma(X,\calL)\), we can define the generate linear system \(|V|\) as the image of \(V\setminus \{0\}\) in \(\bbP(\Gamma(X,\calL))\).


    \begin{definition}\label{def:base_locus_and_base_idea}
        Let \(\calL\) be a line bundle on a scheme \(X\).
        \Yang{To be continued.}
    \end{definition}







    % \Yang{The following }



% \subsection{Ample and basepoint free line bundles}



%     \begin{proposition}\label{prop:different_choices_of_sections_give_different_morphisms_which_differ_by_a_linear_transformation}
%         Let \(X\) be a \(\kk\)-scheme for some field \(\kk\) and \(\calL\) is a line bundle on \(X\).
%         Suppose that \(\{s_0,\ldots,s_n\}\) and \(\{t_0,\ldots,t_m\}\) span the same subspace \(V\subseteq \Gamma(X,\calL)\) and both generate \(\calL\).
%         Let \(f:X\to \bbP^n_\kk\) and \(g:X\to \bbP^m_\kk\) be the morphisms induced by \(\{s_i\}\) and \(\{t_j\}\) respectively.
%         Then there exists a linear transformation \(\phi:\bbP^n_\kk \ratmap \bbP^m_\kk\) which is well defined near image of \(f\) and satisfies \(g=\phi \circ f\).
%     \end{proposition}
%     \begin{proof}
%         \Yang{To be continued.}
%     \end{proof}

%     % \begin{example}\label{eg:morphism_induced_by_-K_of_Hirzebruch_surface_F_2}
%     %     Let \(X=\bbF_2\) be the second Hirzebruch surface, i.e., the projective bundle \(\bbP_{\bbP^1}(\calO_{\bbP^1}\oplus \calO_{\bbP^1}(-2))\) over \(\bbP^1\).
%     %     \Yang{To be continued.}
%     % \end{example}

%     % \begin{definition}\label{def:globally_generated_line_bundle}
%     %     A line bundle \(\calL\) on a scheme \(X\) is \emph{globally generated} if \(\Gamma(X,\calL)\) generates \(\calL\), i.e., the natural map \(\Gamma(X,\calL)\otimes \calO_X \to \calL\) is surjective.
%     %     \Yang{To be continued.}
%     % \end{definition}






    

%     % \begin{definition}\label{def:base_locus}
%     %     Let \(\calL\) be a line bundle on a scheme \(X\) and \(V\subseteq \Gamma(X,\calL)\) a subspace.
%     %     The \emph{base locus} of \(V\) is the closed subset
%     %     \[
%     %         \Bs(V) = \{x\in X : s(x)=0, \forall s\in V\}.
%     %     \]
%     %     If \(\Bs(V)=\emptyset\), we say that \(V\) is \emph{base-point free}.
%     %     \Yang{To be continued.}
%     % \end{definition}



%     % \begin{definition}\label{def:linear_system}
%     %     A \emph{linear system} on a scheme \(X\) is a pair \((\calL,V)\) where \(\calL\) is a line bundle on \(X\) and \(V\subseteq \Gamma(X,\calL)\) is a subspace.
%     %     The dimension of the linear system is \(\dim V - 1\).
%     %     A linear system is \emph{base-point free} if \(V\) is base-point free.
%     %     A linear system is \emph{complete} if \(V=\Gamma(X,\calL)\).
%     %     \Yang{To be continued.}
%     % \end{definition}



%     % \begin{proposition}\label{prop:very_ample_iff_separates_points_and_vectors}
%     %     Let \(X\) be a scheme of finite type over a noetherian ring \(A\) and \(\calL\) a line bundle on \(X\).
%     %     Then \(\calL\) is very ample if and only if the following two conditions hold:
%     %     \begin{enumerate}
%     %         \item (separate points) for any two distinct points \(x,y\in X\), there exists \(s\in \Gamma(X,\calL)\) such that \(s(x)=0\) but \(s(y)\neq 0\);
%     %         \item (separate tangent vectors) for any point \(x\in X\) and non-zero tangent vector \(v\in T_xX\), there exists \(s\in \Gamma(X,\calL)\) such that \(s(x)=0\) but \(v(s)\neq 0\).
%     %     \end{enumerate}
%     %     \Yang{To be continued.}
%     % \end{proposition}
    

% \subsection{Linear systems}

    

%     % \begin{definition}\label{def:general_linear_system}
%     %     A \emph{linear system} on a scheme \(X\) is a pair \((\calL,V)\) where \(\calL\) is a line bundle on \(X\) and \(V\subseteq \Gamma(X,\calL)\) is a subspace.
%     %     The dimension of the linear system is \(\dim V - 1\).
%     %     A linear system is \emph{base-point free} if \(V\) is base-point free.
%     %     A linear system is \emph{complete} if \(V=\Gamma(X,\calL)\).
%     %     \Yang{To be continued.}
%     % \end{definition}

%     % \begin{definition}\label{def:base_locus}
%     %     Let \(\calL\) be a line bundle on a scheme \(X\) and \(V\subseteq \Gamma(X,\calL)\) a subspace.
%     %     The \emph{base locus} of \(V\) is the closed subset
%     %     \[
%     %         \Bs(V) = \{x\in X : s(x)=0, \forall s\in V\}.
%     %     \]
%     %     If \(\Bs(V)=\emptyset\), we say that \(V\) is \emph{base-point free}.
%     %     \Yang{To be continued.}
%     % \end{definition}


% \subsection{Asymptotic behavior}

%     \begin{definition}\label{def:section_ring}
%         Let \(X\) be a scheme and \(\calL\) a line bundle on \(X\).
%         The \emph{section ring} of \(\calL\) is the graded ring
%         \[
%             R(X,\calL) = \bigoplus_{n\ge 0} \Gamma(X,\calL^{\otimes n}),
%         \]
%         with multiplication induced by the tensor product of sections.
%         \Yang{To be continued.}
%     \end{definition}


%     \begin{theorem}\label{thm:fibration_associated_to_semiample_line_bundle}
%         Let \(X\) be a scheme over a ring \(A\) and \(\calL\) a semiample line bundle on \(X\).
%         Then there exists a morphism \(f:X\to Y\) over \(A\) such that \(\calL\cong f^*\calO_Y(1)\) for some very ample line bundle \(\calO_Y(1)\) on \(Y\).
%         Moreover, \(Y=\Proj R(X,\calL)\) and \(f\) is induced by the natural map \(R(X,\calL)\to \Gamma(X,\calL^{\otimes n})\).
%         \Yang{To be continued.  }
        
%     \end{theorem}

%     \begin{definition}\label{def:big_line_bundle}
%         A line bundle \(\calL\) on a scheme \(X\) is \emph{big} if the section ring \(R(X,\calL)\) has maximal growth, i.e., there exists \(C>0\) such that
%         \[
%             \dim \Gamma(X,\calL^{\otimes n}) \ge C n^{\dim X}
%         \]
%         for all sufficiently large \(n\).
%         \Yang{To be continued.}
%     \end{definition}

%     \begin{example}\label{eg:base_locus_-K_of_Hirzebruch_surface}
%         Let \(X=\bbF_2\) be the second Hirzebruch surface, i.e., the projective bundle \(\bbP(\calO_{\bbP^1}\oplus \calO_{\bbP^1}(2))\) over \(\bbP^1\).
%         Let \(\pi:X\to \bbP^1\) be the projection and \(E\) the unique section of \(\pi\) with self-intersection \(-2\).
%         \Yang{To be continued.}
%     \end{example}

