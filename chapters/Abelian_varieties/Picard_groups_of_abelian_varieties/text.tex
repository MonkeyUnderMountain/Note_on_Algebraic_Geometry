\section{Picard Groups of Abelian Varieties}

Let \(\kk\) be a field and \(\kkk\) its algebraic closure.
Let \(A\) be an abelian variety over \(\kk\).

\subsection{Pullback along group operations}

    % \begin{theorem}[Seesaw Theorem]\label{thm: seesaw theorem}
    %     Let \(A\) be an abelian variety over \(\kkk\). 
        
    % \end{theorem}

    \begin{theorem}[Theorem of the cube]\label{thm: theorem of the cube}
        Let \(X,Y,Z\) be proper varieties over \(\kk\) and \(\calL\) a line bundle on \(X \times Y \times Z\). 
        Suppose that there exist \(x \in X(\kk), y \in Y(\kk), z \in Z(\kk)\) such that the restriction \(\calL|_{\{x\} \times Y \times Z}\), \(\calL|_{X \times \{y\} \times Z}\) and \(\calL|_{X \times Y \times \{z\}}\) are trivial. 
        Then \(\calL\) is trivial.
    \end{theorem}
    \begin{proof}
        \Yang{To be completed.}
    \end{proof}

    \begin{remark}\label{rmk: theorem of the cube by rigidity lemma and picard scheme}
        If we assume the existence of the Picard scheme, then the \cref{thm: theorem of the cube} can be deduced from the Rigidity Lemma.
        Consider the morphism
        \[ \varphi: X \times Y \to \Pic(Z), \quad (x,y) \mapsto \calL|_{\{x\} \times \{y\} \times Z}. \]
        Since \(\varphi(x,y) = \calO_Z\), \(\varphi\) factors through \(\Pic^0(Z)\).
        Then the assumption implies that \(\varphi\) contracts \(\{x\} \times Y\), \(X \times \{y\}\) and hence it maps \(X \times Y\) to a point.
        Thus \(\varphi(x',y') = \calO_Z\) for every \((x',y') \in X \times Y\).
        Then by Grauert's theorem, we have \(\calL \cong p^*p_*\calL\) where \(p: X \times Y \times Z \to X \times Y\) is the projection.
        Note that \(p_*\calL \cong \calL|_{X \times Y \times \{z\}} \cong \calO_{X \times Y}\).
        Hence \(\calL\) is trivial.
    \end{remark}

    \begin{lemma}\label{lem: pull back of line bundles along sum of morphisms}
        Let \(A\) be an abelian variety over \(\kk\), \(f,g,h: X \to A\) morphisms from a variety \(X\) to \(A\) and \(\calL\) a line bundle on \(A\).
        Then we have
        \[ (f+g+h)^*\calL \cong (f+g)^*\calL \ten (f+h)^*\calL \ten (g+h)^*\calL \ten f^*\calL^{-1} \ten g^*\calL^{-1} \ten h^*\calL^{-1}. \]
    \end{lemma}
    \begin{proof}
        First consider \(X = A \times A \times A\), \(p:X \to A, (x_1,x_2,x_3) \mapsto x_1+x_2+x_3\), \(p_{ij}:X \to A, (x_1,x_2,x_3) \mapsto x_i + x_j\) for \(1 \leq i < j \leq 3\) and \(p_i: X \to A, (x_1,x_2,x_3) \mapsto x_i\) for \(1 \leq i \leq 3\).
        Then the conclusion follows from the theorem of the cube by taking \(\calL' = p^*\calL^{-1} \ten p_{12}^*\calL \ten p_{13}^*\calL \ten p_{23}^*\calL \ten p_1^*\calL^{-1} \ten p_2^*\calL^{-1} \ten p_3^*\calL^{-1}\) and considering the restriction to \(\{0\} \times A \times A\), \(A \times \{0\} \times A\) and \(A \times A \times \{0\}\).

        In general, consider the morphism \(\varphi = (f,g,h): X \to A \times A \times A\) and pull back the above isomorphism along \(\varphi\).
    \end{proof}

    \begin{proposition}\label{prop: pull back of line bundles along the multiplication by n}
        Let \(A\) be an abelian variety over \(\kk\), \(n\in \bbZ\) and \(\calL\) a line bundle on \(A\). 
        Then we have 
        \[ [n]_A^*\calL \cong \calL^{\ten \frac{1}{2}(n^2+n)} \ten [-1]_A^*\calL^{\ten \frac{1}{2}(n^2-n)}. \]
    \end{proposition}
    \begin{proof}
        For \(n = 0,1\), the conclusion is trivial.
        For \(n \geq 2\), we can use the previous lemma on \([n-2]_A,[1]_A,[1]_A\) and induct on \(n\).
        Hence we have 
        \[ [n]_A^*\calL \cong [n-1]_A^*\calL \ten [n-1]_A^*\calL \ten [2]_A^*\calL \ten [1]_A^*\calL^{-1} \ten [1]_A^*\calL^{-1} \ten [n-2]_A^*\calL^{-1}. \]
        Then the conclusion follows from induction.
        \Yang{To be completed.}
    \end{proof}

    \begin{definition}\label{def:symmetric_and_antisymmetric_line_bundles}
        Let \(A\) be an abelian variety over \(\kk\) and \(\calL\) a line bundle on \(A\).
        We say that \(\calL\) is \emph{symmetric} if \([-1]_A^*\calL \cong \calL\) and \emph{antisymmetric} if \([-1]_A^*\calL \cong \calL^{-1}\).
    \end{definition}

    \begin{theorem}[Theorem of the square]\label{thm: theorem of the square}
        Let \(A\) be an abelian variety over \(\kk\), \(x,y \in A(\kk)\) two points and \(\calL\) a line bundle on \(A\).
        Then 
        \[ t_{x+y}^*\calL \ten \calL \cong t_x^*\calL \ten t_y^*\calL. \]
    \end{theorem}
    \begin{proof}
        \Yang{To be completed.}
    \end{proof}

    \begin{example}\label{eg:isomorphism_of_Pic0_of_elliptic_to_itself_by_Theorem_of_square}
        Let \(E\) be an elliptic curve over \(\kkk\) with origin \(0\).
        For \(x \in E(\kkk)\), let \(P_x\) be the corresponding prime divisor on \(E\).
        Denote \(\Pic^0(E)\) the subgroup of \(\Pic(E)\) consisting of line bundles of degree zero.
        Given \(x,y \in E(\kkk)\), by the theorem of the square, we have
        \[ t_{-x-y}^*\calO_E(P_0) \ten \calO_E(P_0) \cong t_{-x}^*\calO_E(P_0) \ten t_{-y}^*\calO_E(P_0). \]
        Note that \(t_{-x}^*\calO_E(P_0) \cong \calO_E(P_{x})\).
        Hence
        \[ \calO_E(P_{x+y} - P_0) \cong \calO_E(P_x - P_0 + P_y - P_0). \]
        This shows that the map \(E(\kkk) \to \Pic^0(E), x \mapsto \calO_E(P_x - P_0)\) is a group homomorphism.
        It is injective since if \(\calO_E(P_x - P_0) \cong \calO_E\), then \(P_x \sim P_0\) and hence \(x = 0\).
        It is also surjective since for any \(\calL \in \Pic^0(E)\), we can write \(\calL \cong \calO_E(\sum a_i P_{x_i})\) with \(\sum a_i = 0\) and then 
        \[ \calL \cong \calO_E\left( \sum a_i (P_{x_i} - P_0) \right) \cong \calO_E\left( P_{\sum a_i x_i} - P_0 \right). \]
        Hence we have an isomorphism of groups \(E(\kkk) \cong \Pic^0(E)\).
        % \(\calL \cong \calO_E(P_x - P_0)\) where \(x = \sum a_i x_i\).
    \end{example}

    \begin{remark}\label{rmk: theorem of the square and homomorphism to Picard group}
        We can define a map
        \[ \Phi_\calL: A(\kk) \to \Pic(A), \quad x \mapsto t_x^*\calL \ten \calL^{-1}. \]
        Then theorem of the square implies that \(\Phi_\calL\) is a homomorphism of groups.
        When we vary \(\calL\), the map 
        \[ \Phi_{\square}: \Pic(A) \to \Hom_{\Grp}(A(\kk), \Pic(A)), \quad \calL \mapsto \Phi_\calL \]
        is also a group homomorphism.
        For any \(x \in A(\kk)\), we have
        \[ \Phi_{t_x^*\calL} = \Phi_\calL \]
        by \cref{thm: theorem of the square}.
        In the other words, 
        \[ \Phi_\calL(x) \in \Ker \Phi_{\square}, \quad \forall \calL \in \Pic(A), x \in A(\kk). \]
        % \Yang{To be completed.}
    \end{remark}

    If we assume the scheme structure on \(\Pic(A)\), then \(\Phi_\calL\) is a morphism of scheme and factors through \(\Pic^0(A)\).
    Let \(K(\calL) \coloneqq \Ker \Phi_\calL\), then \(K(\calL)\) is a subgroup scheme of \(A\).
    We give another description of \(K(\calL)\).
    From this point, when \(K(\calL)\) is finite, we can recover the dual abelian variety \(A^\vee = \Pic^0_{A/\kk}\) as the quotient \(A/K(\calL)\).
    % \Yang{To be completed.}

    \begin{example}\label{eg:describe_Phi_on_elliptic_curves}
        Let \(E\) be an elliptic curve over \(\kkk\) with origin \(0\).
        We have \(\Pic^0(E) \cong E(\kkk)\) by sending \(x \in E(\kkk)\) to \(\calO_E(P_x - P_0)\) where \(P_x\) is the point on \(E\) corresponding to \(x\).

        Then 
        \[ \Phi_{n\calO(P_x)}(y) = t_y^*\calO_E(nP_x) \ten \calO_E(-nP_x) \cong \calO_E(nP_{x-y} - nP_0 + nP_0 - nP_x) \leftrightarrow -ny \]
        Hence 
        \[ \Phi_{n\calO(P_x)}: E(\kkk) \to E(\kkk), \quad y \mapsto -ny. \]
        Hence \(K(\calL) = \{ x \in E(\kkk) : n \cdot x \sim n \cdot 0 \} = E[n](\kkk)\) is the subgroup of \(n\)-torsion points of \(E\).
        % \Yang{to be revised.}
    \end{example}


\subsection{Projectivity}

    In this subsection, we work over the algebraically closed field \(\kkk\).

    \begin{proposition}\label{prop:2D_is_base_point_free}
        Let \(A\) be an abelian variety over \(\kkk\) and \(D\) an effective divisor on \(A\).
        Then \(|2D|\) is base point free.
    \end{proposition}
    \begin{proof}
        \Yang{To be completed.}
    \end{proof}

    \begin{theorem}\label{thm:ample_criteria_for_abelian_varieties}
        Let \(A\) be an abelian variety over \(\kkk\) and \(D\) an effective divisor on \(A\).
        TFAE:
        \begin{enumerate}
            \item the stabilizer \(\Stab(D)\) of \(D\) is finite;
            \item the morphism \(\phi_{|2D|}\) induced by the complete linear system \(|2D|\) is finite;
            \item \(D\) is ample;
            \item \(K(\calO_A(D))\) is finite.
        \end{enumerate}
    \end{theorem}
    \begin{proof}
        \Yang{To be completed.}
    \end{proof}

    \begin{theorem}\label{thm: abelian varieties are projective}
        Let $A$ be an abelian variety over $\kkk$. 
        Then $A$ is projective.
    \end{theorem}
    \begin{proof}
        \Yang{To be completed.}
    \end{proof}

    \begin{corollary}\label{cor:psef_iff_nef_for_abelian_varieties}
        Let \(A\) be an abelian variety over \(\kkk\) and \(D\) a divisor on \(A\).
        Then \(D\) is pseudo-effective if and only if it is nef, i.e. \(\Psef^1(A) = \Nef^1(A)\).
    \end{corollary}
    \begin{proof}
        \Yang{To be completed.}
    \end{proof}


% \subsection{Isogenies and finite subgroups}

%     \begin{theorem}\label{thm: torsion subgroups of abelian varieties}
%         Let \(A\) be an abelian variety of dimension \(d\) over \(\kkk\). 
%         Then the subgroup \(A[n]\) of \(n\) torsion points is finite and we have 
%         \begin{enumerate}
%             \item if \(n\) is coprime to \(\characteristic(\kk)\), then \(A[n] \cong (\bbZ/n\bbZ)^{2d}\);
%             \item if \(n = p^k\) for \(p = \characteristic(\kk) > 0\)
%         \end{enumerate}
%     \end{theorem}
%     \begin{proof}
%         \Yang{To be completed.}
%     \end{proof}

%     \begin{theorem}\label{thm:isogenies_and_finite_subgroups}
%         Let \(A\) be an abelian variety over \(\kkk\). 
%         There is a bijection between the isogenies from \(A\) over \(\kkk\) and the finite subgroup schemes of \(A\).
%     \end{theorem}


\subsection{Dual abelian varieties}

    In this subsection, we work over the algebraically closed field \(\kkk\).

    % \begin{proposition}\label{prop:ample_line_bundles_induce_surjective_homomorphisms}
    %     Let \(A\) be an abelian variety over \(\kk\) and \(\calL\) an ample line bundle on \(A\).
    %     Then the homomorphism \(\Phi_\calL: A(\kkk) \to \Pic(A)\) factors through \(\Pic^0(A)\) and \(A(\kkk) \to \Pic^0(A)\) is surjective.
    % \end{proposition}
    % \begin{proof}
    %     \Yang{To be completed.}
    % \end{proof}

    \begin{definition}\label{def:dual_abelian_variety}
        Let \(A\) be an abelian variety over \(\kkk\).
        We define the \emph{dual abelian variety} of \(A\) to be \(A/K(\calL)\) for some ample line bundle \(\calL\) on \(A\).
        We denote it by \(A^\vee\).
        % \Yang{To be completed.}
    \end{definition}

    \Yang{We have a natural map \(A^\vee(\kkk) \to \Pic^0(A)\) by sending \(x + K(\calL) \mapsto t_x^*\calL \ten \calL^{-1}\).
    We will show that this map is an isomorphism.}

    \begin{lemma}\label{prop: the Poincare line bundle}
        There exists a unique line bundle \(\calP\) on \(A \times A^\vee\) such that for every \(y = \calL \in A^\vee = \Pic^0(A)\), we have \(\calP|_{A \times \{y\}} \cong \calL\).
    \end{lemma}
    \begin{proof}
        \Yang{To be completed.}
    \end{proof}

    \begin{lemma}\label{prop:universal_property_of_dual_abelian_variety}
        Let \(A\) be an abelian variety over \(\kkk\) and \(B\) a group variety over \(\kkk\).
        Then there is a natural bijection between the morphisms \(f: B \to A^\vee\) and the line bundles \(\calL\) on \(A \times B\) such that for every \(b \in B(\kkk)\), we have \(\calL|_{A \times \{b\}} \in \Pic^0(A)\).
        The bijection is given by \(f \mapsto (1_A \times f)^*\calP\) where \(\calP\) is the Poincar\'e line bundle on \(A \times A^\vee\).
        \Yang{To be completed.}
    \end{lemma}
    \begin{proof}
        \Yang{To be completed.}
    \end{proof}

    \begin{theorem}\label{thm:dual_abelian_variety_as_Pic0}
        Let $A$ be an abelian variety over $\kk$. 
        Then the dual abelian variety \(A^\vee\) and the Poincar\'e line bundle \(\calP\) on \(A \times A^\vee\) do not depend on the choice of the ample line bundle \(\calL\).
        Moreover, there is a natural bijection \(A^\vee(\kk) \to \Pic^0(A)\) of groups.
        Under this bijection, for every \(x = \calL \in A^\vee(\kk) = \Pic^0(A)\), we have \(\calP|_{A \times \{x\}} \cong \calL\).
        % Then \(\Pic^0(A) \) has a natural structure of an abelian variety, called the \emph{dual abelian variety} of $A$, denoted by $A^\vee$.
    \end{theorem}
    \begin{proof}
        \Yang{To be completed.}
    \end{proof}

    \begin{proposition}\label{prop:dual_of_dual_is_A}
        Let \(A\) be an abelian variety over \(\kk\).
        Then the dual abelian variety \(A^\vee\) is also an abelian variety and the natural morphism \(A \to A^{\vee\vee}\) is an isomorphism.
    \end{proposition}
    \begin{proof}
        \Yang{To be completed.}
    \end{proof}


\subsection{The N\'eron-Severi group}


    \begin{theorem}\label{thm:NS_A_as_homomorphisms_from_A_to_A_dual}
        Let \(A\) be an abelian variety over \(\kkk\).
        The we have an inclusion \(\NS(A) \injmap \Hom_{\Av}(A, A^\vee)\) of groups given by 
        \[ \calL \mapsto \left( \Phi_\calL: A \to A^\vee, \quad x \mapsto t_x^*\calL \ten \calL^{-1} \right). \]
        \Yang{To be completed.}
    \end{theorem}

    \begin{example}\label{eg:NS_E^n_in_hom_E^n_E^n}
        Let \(E\) be an elliptic curve over \(\kkk\) without complex multiplication and \(A = E^n\) for some \(n \geq 1\).
        Set \(D_i = E^{i-1} \times \{0\} \times E^{n-i}\) for \(1 \leq i \leq n\) and \(D_{ij} = \Delta_{ij} - D_i - D_j\) for \(1 \leq i < j \leq n\) where \(\Delta_{ij}\) is the pullback of the diagonal divisor \(\Delta_E \subseteq E \times E\) along the projection \(A \to E \times E\) to the \(i\)-th and \(j\)-th factors.
        Then \(\NS(A)\) is generated by the classes of \(D_i\)'s and \(D_{ij}\)'s.\Yang{why?}

        The homomorphism \(\Phi: \NS(A) \to \Hom_{\Av}(A, A^\vee)\) can be described as follows.
        Note that \(A^\vee \cong (E^\vee)^n \cong E^n = A\).
        For \(D_i\), \(\Phi_{D_i}: A \to A^\vee\) is given by
        \[ \Phi_{D_i}(x_1, \ldots, x_n) = t_{(x_1, \ldots, x_n)}^* \calO_A(D_i) \ten \calO_A(D_i)^{-1} \cong (0, \ldots, 0, x_i, 0, \ldots, 0). \]
        For \(D_{ij}\), \(\Phi_{D_{ij}}: A \to A^\vee\) is given by
        \[ \Phi_{D_{ij}}(x_1, \ldots, x_n) = t_{(x_1, \ldots, x_n)}^* \calO_A(D_{ij}) \ten \calO_A(D_{ij})^{-1} \cong (0, \ldots, 0, x_j, 0, \ldots, 0, x_i, 0, \ldots, 0). \]
        Hence under the identification \(\Hom_{\Av}(A, A^\vee) \cong M_n(\bbZ)\), the map \(\Phi: \NS(A) \to \Hom_{\Grp}(A, A^\vee)\) is given by
        \[ D_i \mapsto E_{ii}, \quad D_{ij} \mapsto E_{ij} + E_{ji} \]
        where \(E_{ij}\) is the matrix with \(1\) at the \((i,j)\)-th entry and \(0\) elsewhere.
    \end{example}